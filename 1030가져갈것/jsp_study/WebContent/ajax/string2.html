
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
section {
	border: 1px solid red;
}
</style>
</head>
<body>
<div id="app">
	<form id="frm">
		<input type="text" name="name" placeholder="이름을 입력하세요"><br>
		<input type="text" name ="age" placeholder="나이를 입력하세요">
	</form>
	<input type="button" value="버튼" id="btn">
	<section></section>
</div>
<script src="../js/jquery-3.5.1.js"></script>
<script>
	$('#btn').click(function () {
		// Ajax통신으로 string.jsp를 요청하고
		//응답을 성공적으로 받으면 success 함수 호출함
		
		var str = $('#frm').serialize();	//데이터 직렬화해서 쿼리스트링으로 가져옴
		console.log(str);
		
		//Ajax(Asynchronous Javascript and XML, JSON)
		$.ajax({//AJAX함수(블로킹 메소드가 아님)
			url: 'string2.jsp',//요청할 url주소
			data: str,
			success: function (data){//요청하면 응답을 받는데 응답이 성공했을때의 경우
				console.log(typeof data);
				console.log(data.trim());
				
				$('section').append('<h2>' + data.trim()+ '</h2>');
			}
		});
		
		//다른실행문;위에가 블로킹 함수면 위에서 실행흐름이 걸려있어서 위가 다 실행될때까지 기다려서 실행이 안됨(동기식)
		//			위에가 비동기식이면 위에서 딜레이가 일어나도 아래에있는 이 실행문이 실행이 된다 스레드랑 비슷함
	});
</script>
</body>
</html>


